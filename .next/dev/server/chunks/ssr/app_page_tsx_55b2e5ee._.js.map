{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALG/Downloads/edc-nit-durgapur-landing-page%20%282%29/app/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from './components/Navbar';\r\nimport Hero from './components/Hero';\r\nimport Marquee from './components/Marquee';\r\nimport About from './components/About';\r\nimport Domains from './components/Domains';\r\nimport Footer from './components/Footer';\r\nimport Preloader from './components/Preloader';\r\nimport ScrollProgress from './components/ScrollProgress';\r\nimport AuthModal from './components/AuthModal';\r\nimport AdminDashboard from './components/AdminDashboard';\r\nimport ScrollBackground from './components/ScrollBackground';\r\nimport CustomCursor from './components/CustomCursor';\r\nimport './types';\r\n\r\nexport default function App() {\r\n  const [isLoading, setIsLoading] = useState(true); // For Preloader Component\r\n  const [showContent, setShowContent] = useState(false); // For CSS Fade-in\r\n  \r\n  const [user, setUser] = useState<any>(null);\r\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\r\n  const [isAdminModalOpen, setIsAdminModalOpen] = useState(false);\r\n\r\n  // Check for logged in user and preloader status on mount\r\n  useEffect(() => {\r\n    // 1. Check User\r\n    const storedUserStr = localStorage.getItem('edc_user');\r\n    if (storedUserStr) {\r\n      try {\r\n        const storedUser = JSON.parse(storedUserStr);\r\n        setUser(storedUser);\r\n      } catch (e) {\r\n        console.error(\"Failed to parse user\", e);\r\n      }\r\n    }\r\n\r\n    // 2. Check Preloader Session\r\n    const hasPreloaded = sessionStorage.getItem('edc_preloaded');\r\n    if (hasPreloaded === 'true') {\r\n      setIsLoading(false);\r\n      // Slight delay to allow DOM to paint opacity-0 before transitioning to 100\r\n      setTimeout(() => setShowContent(true), 50);\r\n    } else {\r\n      // If preloader is active, we don't show content yet.\r\n      // preloader logic handles it via handlePreloaderComplete\r\n    }\r\n  }, []);\r\n\r\n  const handlePreloaderComplete = () => {\r\n    setIsLoading(false);\r\n    sessionStorage.setItem('edc_preloaded', 'true');\r\n    // Fade in content after preloader finishes\r\n    setTimeout(() => setShowContent(true), 50);\r\n  };\r\n\r\n  const handleLoginSuccess = (userData: any) => {\r\n    setUser(userData);\r\n    localStorage.setItem('edc_user', JSON.stringify(userData));\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem('edc_user');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CustomCursor />\r\n      <ScrollProgress />\r\n      {isLoading && <Preloader onComplete={handlePreloaderComplete} />}\r\n      \r\n      <AuthModal \r\n        isOpen={isAuthModalOpen} \r\n        onClose={() => setIsAuthModalOpen(false)}\r\n        onLoginSuccess={handleLoginSuccess}\r\n      />\r\n\r\n      <AdminDashboard \r\n        isOpen={isAdminModalOpen}\r\n        onClose={() => setIsAdminModalOpen(false)}\r\n      />\r\n\r\n      <div \r\n        className={`flex flex-col w-full min-h-screen transition-opacity duration-1000 ease-in-out ${\r\n          showContent ? 'opacity-100' : 'opacity-0 h-screen overflow-hidden'\r\n        }`}\r\n      >\r\n        <ScrollBackground />\r\n        <Navbar \r\n          user={user} \r\n          onOpenAuth={() => setIsAuthModalOpen(true)}\r\n          onLogout={handleLogout}\r\n          onOpenAdmin={() => setIsAdminModalOpen(true)}\r\n        />\r\n        <main className=\"flex-grow w-full\">\r\n          <Hero user={user} onOpenAuth={() => setIsAuthModalOpen(true)} />\r\n          <Marquee />\r\n          <About />\r\n          <Domains />\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;;;;;;;;;;;;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC,OAAO,0BAA0B;IAC5E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,QAAQ,kBAAkB;IAEzE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IAEzD,yDAAyD;IACzD,IAAA,kNAAS,EAAC;QACR,gBAAgB;QAChB,MAAM,gBAAgB,aAAa,OAAO,CAAC;QAC3C,IAAI,eAAe;YACjB,IAAI;gBACF,MAAM,aAAa,KAAK,KAAK,CAAC;gBAC9B,QAAQ;YACV,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QAEA,6BAA6B;QAC7B,MAAM,eAAe,eAAe,OAAO,CAAC;QAC5C,IAAI,iBAAiB,QAAQ;YAC3B,aAAa;YACb,2EAA2E;YAC3E,WAAW,IAAM,eAAe,OAAO;QACzC,OAAO;QACL,qDAAqD;QACrD,yDAAyD;QAC3D;IACF,GAAG,EAAE;IAEL,MAAM,0BAA0B;QAC9B,aAAa;QACb,eAAe,OAAO,CAAC,iBAAiB;QACxC,2CAA2C;QAC3C,WAAW,IAAM,eAAe,OAAO;IACzC;IAEA,MAAM,qBAAqB,CAAC;QAC1B,QAAQ;QACR,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;IAClD;IAEA,MAAM,eAAe;QACnB,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE;;0BACE,8OAAC;;;;;0BACD,8OAAC;;;;;YACA,2BAAa,8OAAC;gBAAU,YAAY;;;;;;0BAErC,8OAAC;gBACC,QAAQ;gBACR,SAAS,IAAM,mBAAmB;gBAClC,gBAAgB;;;;;;0BAGlB,8OAAC;gBACC,QAAQ;gBACR,SAAS,IAAM,oBAAoB;;;;;;0BAGrC,8OAAC;gBACC,WAAW,CAAC,+EAA+E,EACzF,cAAc,gBAAgB,sCAC9B;;kCAEF,8OAAC;;;;;kCACD,8OAAC;wBACC,MAAM;wBACN,YAAY,IAAM,mBAAmB;wBACrC,UAAU;wBACV,aAAa,IAAM,oBAAoB;;;;;;kCAEzC,8OAAC;wBAAK,WAAU;;0CACd,8OAAC;gCAAK,MAAM;gCAAM,YAAY,IAAM,mBAAmB;;;;;;0CACvD,8OAAC;;;;;0CACD,8OAAC;;;;;0CACD,8OAAC;;;;;;;;;;;kCAEH,8OAAC;;;;;;;;;;;;;AAIT"}}]
}